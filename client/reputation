local GangReputations = {}

RegisterNetEvent("gang:syncReputation")
AddEventHandler("gang:syncReputation", function(gangName, reputation)
    GangReputations[gangName] = reputation
    UpdateGangReputationUI(gangName, reputation)
end)

RegisterNetEvent("gang:syncAllReputations")
AddEventHandler("gang:syncAllReputations", function(allReputations)
    GangReputations = allReputations
end)

function UpdateGangReputationUI(gangName, reputation)
    local tier = GetGangTier(reputation)
    SendNUIMessage({
        action = "updateGangReputation",
        gang = gangName,
        reputation = reputation,
        tier = tier
    })
end

function GetGangTier(points)
    if points >= Config.GangReputation.TierThresholds.Legendary then
        return "Legendary"
    elseif points >= Config.GangReputation.TierThresholds.Feared then
        return "Feared"
    elseif points >= Config.GangReputation.TierThresholds.Respected then
        return "Respected"
    end
    return "Neutral"
end
